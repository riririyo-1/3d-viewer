# CI ワークフロー利用ガイド

## 概要
本プロジェクトの CI (GitHub Actions) には、コード変更時の自動実行に加え、手動で全ジョブを実行する機能が追加されました。

## 手動実行 (workflow_dispatch) の手順

これまではコードをプッシュしないと CI が回りませんでしたが、以下の手順でいつでも全テスト・ビルドを実行できます。

1. GitHub リポジトリの **[Actions]** タブを開く。
2. 左側のサイドバーから **"CI"** ワークフローを選択する。
3. 画面右側の **[Run workflow]** ボタンをクリックする。
   - Branch: `main` (または実行したいブランチ) を選択。
4. 緑色の **[Run workflow]** ボタンを押下する。

## 挙動の違い

- **通常 (Push/Pull Request)**:
  - 変更があったディレクトリ (frontend, server, pipeline, docker) に関連するジョブのみが実行されます（`paths-filter` による制御）。
  
- **手動実行 (Run workflow)**:
  - **全てのジョブ (frontend, server, pipeline, docker) が強制的に実行されます。**
  - これにより、コード変更がない場合でも、依存関係の更新や環境要因によるエラーがないかを確認できます。

## トラブルシューティング

### 完了しないジョブがある場合
- **E2E テスト**: テストがハングアップする場合、環境変数が不足している可能性があります（今回の改修で修正済み）。
- **Docker ビルド**: 非常に時間がかかる場合、不要なファイルがコンテキストに含まれている可能性があります（`.dockerignore` で修正済み）。
